{"version":3,"file":"app.config.js","sourceRoot":"/","sources":["src/config/app.config.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,2CAA4C;AAE5C,qDAQyB;AAEzB,+EAAwD;AAExD,IAAK,WAIJ;AAJD,WAAK,WAAW;IACd,0CAA2B,CAAA;IAC3B,wCAAyB,CAAA;IACzB,4BAAa,CAAA;AACf,CAAC,EAJI,WAAW,KAAX,WAAW,QAIf;AAED,MAAM,6BAA6B;CAsBlC;AAnBC;IAFC,IAAA,wBAAM,EAAC,WAAW,CAAC;IACnB,IAAA,4BAAU,GAAE;;+DACS;AAMtB;IAJC,IAAA,uBAAK,GAAE;IACP,IAAA,qBAAG,EAAC,CAAC,CAAC;IACN,IAAA,qBAAG,EAAC,KAAK,CAAC;IACV,IAAA,4BAAU,GAAE;;+DACI;AAIjB;IAFC,IAAA,uBAAK,EAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;IAC7B,IAAA,4BAAU,GAAE;;sEACW;AAIxB;IAFC,IAAA,uBAAK,EAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;IAC7B,IAAA,4BAAU,GAAE;;qEACU;AAIvB;IAFC,IAAA,0BAAQ,GAAE;IACV,IAAA,4BAAU,GAAE;;iEACM;AAGrB,kBAAe,IAAA,mBAAU,EAAY,KAAK,EAAE,GAAG,EAAE;IAC/C,IAAA,yBAAc,EAAC,OAAO,CAAC,GAAG,EAAE,6BAA6B,CAAC,CAAC;IAE3D,OAAO;QACL,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,aAAa;QAC9C,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,KAAK;QACnC,gBAAgB,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;QAClD,cAAc,EAAE,OAAO,CAAC,GAAG,CAAC,eAAe;QAC3C,aAAa,EAAE,OAAO,CAAC,GAAG,CAAC,cAAc,IAAI,kBAAkB;QAC/D,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ;YACxB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;YACpC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI;gBAChB,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;gBAChC,CAAC,CAAC,IAAI;QACV,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,KAAK;KAC3C,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["/* eslint-disable prettier/prettier */\r\nimport { registerAs } from '@nestjs/config';\r\n\r\nimport {\r\n  IsEnum,\r\n  IsInt,\r\n  IsOptional,\r\n  IsString,\r\n  IsUrl,\r\n  Max,\r\n  Min,\r\n} from 'class-validator';\r\nimport { AppConfig } from './config.type';\r\nimport validateConfig from '@app/utils/validate-config';\r\n\r\nenum Environment {\r\n  Development = 'development',\r\n  Production = 'production',\r\n  Test = 'test',\r\n}\r\n\r\nclass EnvironmentVariablesValidator {\r\n  @IsEnum(Environment)\r\n  @IsOptional()\r\n  NODE_ENV: Environment;\r\n\r\n  @IsInt()\r\n  @Min(0)\r\n  @Max(65535)\r\n  @IsOptional()\r\n  APP_PORT: number;\r\n\r\n  @IsUrl({ require_tld: false })\r\n  @IsOptional()\r\n  FRONTEND_DOMAIN: string;\r\n\r\n  @IsUrl({ require_tld: false })\r\n  @IsOptional()\r\n  BACKEND_DOMAIN: string;\r\n\r\n  @IsString()\r\n  @IsOptional()\r\n  API_PREFIX: string;\r\n}\r\n\r\nexport default registerAs<AppConfig>('app', () => {\r\n  validateConfig(process.env, EnvironmentVariablesValidator);\r\n\r\n  return {\r\n    nodeEnv: process.env.NODE_ENV || 'development',\r\n    name: process.env.APP_NAME || 'app',\r\n    workingDirectory: process.env.PWD || process.cwd(),\r\n    frontendDomain: process.env.FRONTEND_DOMAIN,\r\n    backendDomain: process.env.BACKEND_DOMAIN ?? 'http://localhost',\r\n    port: process.env.APP_PORT\r\n      ? parseInt(process.env.APP_PORT, 10)\r\n      : process.env.PORT\r\n        ? parseInt(process.env.PORT, 10)\r\n        : 3000,\r\n    apiPrefix: process.env.API_PREFIX || 'api',\r\n  };\r\n});\r\n"]}