{"version":3,"file":"transaction.entity.js","sourceRoot":"/","sources":["src/typeorm/entities/transaction.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AACA,qCAA4E;AAC5E,+CAAqC;AAErC,IAAY,SAKX;AALD,WAAY,SAAS;IACnB,8BAAiB,CAAA;IACjB,gCAAmB,CAAA;IACnB,gCAAmB,CAAA;IACnB,sCAAyB,CAAA;AAC3B,CAAC,EALW,SAAS,yBAAT,SAAS,QAKpB;AAED,IAAY,QAOX;AAPD,WAAY,QAAQ;IAClB,iCAAqB,CAAA;IACrB,qCAAyB,CAAA;IACzB,+BAAmB,CAAA;IACnB,mCAAuB,CAAA;IACvB,yBAAa,CAAA;IACb,uBAAW,CAAA;AACb,CAAC,EAPW,QAAQ,wBAAR,QAAQ,QAOnB;AAGM,IAAM,WAAW,GAAjB,MAAM,WAAW;CAwBvB,CAAA;AAxBY,kCAAW;AAEtB;IADC,IAAA,gCAAsB,GAAE;;uCACd;AAGX;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC;8BACtE,kBAAI;yCAAC;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;;6CACtB;AAGnB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC,OAAO,EAAE,CAAC;;2CACpD;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;4CACT;AAGhB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CAC3B;AAGd;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;;2CACtC;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC,mBAAmB,EAAE,CAAC;8BACtD,IAAI;+CAAC;sBAvBN,WAAW;IADvB,IAAA,gBAAM,GAAE;GACI,WAAW,CAwBvB","sourcesContent":["/* eslint-disable prettier/prettier */\r\nimport { Entity, Column, PrimaryGeneratedColumn, ManyToOne } from 'typeorm';\r\nimport { User } from './user.entity';\r\n\r\nexport enum TrxStatus {\r\n  Failed = 'failed',\r\n  Pending = 'pending',\r\n  Reverse = 'reverse',\r\n  Successful = 'successful',\r\n}\r\n\r\nexport enum Category {\r\n  Transfer = 'transfer',\r\n  Withdrawal = 'withdrawal',\r\n  Deposit = 'deposit',\r\n  CopyTrade = 'copytrade',\r\n  Plan = 'plan',\r\n  PNL = 'PnL',\r\n}\r\n\r\n@Entity()\r\nexport class Transaction {\r\n  @PrimaryGeneratedColumn()\r\n  id: number;\r\n\r\n  @ManyToOne(() => User, (user) => user.transactions, { onDelete: 'CASCADE' })\r\n  user: User;\r\n\r\n  @Column({ type: 'enum', enum: Category })\r\n  category: Category;\r\n\r\n  @Column({ type: 'enum', enum: TrxStatus, default: TrxStatus.Pending })\r\n  status: TrxStatus;\r\n\r\n  @Column({ type: String })\r\n  service: string;\r\n\r\n  @Column({ type: String, nullable: true })\r\n  proof: string;\r\n\r\n  @Column({ type: 'decimal', precision: 15, scale: 4 })\r\n  amount: number;\r\n\r\n  @Column({ type: 'timestamp', default: () => 'CURRENT_TIMESTAMP' })\r\n  created_at: Date;\r\n}\r\n"]}