{"version":3,"file":"validation-options.js","sourceRoot":"/","sources":["src/utils/validation-options.ts"],"names":[],"mappings":";;AACA,2CAK0B;AAExB,MAAM,iBAAiB,GAA0B;IAC/C,SAAS,EAAE,IAAI;IACf,SAAS,EAAE,IAAI;IACf,mBAAmB,EAAE,mBAAU,CAAC,oBAAoB;IACpD,gBAAgB,EAAE,CAAC,MAAyB,EAAE,EAAE,CAC9C,IAAI,sBAAa,CACf;QACE,MAAM,EAAE,mBAAU,CAAC,oBAAoB;QACvC,MAAM,EAAE,MAAM,CAAC,MAAM,CACnB,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE,CAAC,CAAC;YAC9B,GAAG,WAAW;YACd,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,MAAM,CACpC,YAAY,CAAC,WAAW,IAAI,EAAE,CAC/B,CAAC,IAAI,CAAC,IAAI,CAAC;SACb,CAAC,EACF,EAAE,CACH;KACF,EACD,mBAAU,CAAC,oBAAoB,CAChC;CACJ,CAAC;AAEF,kBAAe,iBAAiB,CAAC","sourcesContent":["/* eslint-disable prettier/prettier */\r\nimport {\r\n    HttpException,\r\n    HttpStatus,\r\n    ValidationError,\r\n    ValidationPipeOptions,\r\n  } from '@nestjs/common';\r\n  \r\n  const validationOptions: ValidationPipeOptions = {\r\n    transform: true,\r\n    whitelist: true,\r\n    errorHttpStatusCode: HttpStatus.UNPROCESSABLE_ENTITY,\r\n    exceptionFactory: (errors: ValidationError[]) =>\r\n      new HttpException(\r\n        {\r\n          status: HttpStatus.UNPROCESSABLE_ENTITY,\r\n          errors: errors.reduce(\r\n            (accumulator, currentValue) => ({\r\n              ...accumulator,\r\n              [currentValue.property]: Object.values(\r\n                currentValue.constraints ?? {},\r\n              ).join(', '),\r\n            }),\r\n            {},\r\n          ),\r\n        },\r\n        HttpStatus.UNPROCESSABLE_ENTITY,\r\n      ),\r\n  };\r\n  \r\n  export default validationOptions;\r\n  "]}